<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Personalize Sua Peça - ColorShop</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--text:#000;
--gray:#666;
--border:#e5e5e5;
--light:#f9fafb;
--primary:rgb(201,20,20);
}
body{font-family:Inter,sans-serif;background:#fff;color:var(--text);overflow:hidden;height:100vh}

.container{display:grid;grid-template-columns:1fr 1fr;height:100vh}

.preview-section{display:flex;align-items:center;justify-content:center;background:#fff;position:relative;padding:20px;height:100vh;overflow:hidden}
.preview-image{width:100%;height:100%;max-height:100vh;object-fit:contain;opacity:0;transform:scale(0.9);animation:fadeInScale .8s forwards}
@keyframes fadeInScale{to{opacity:1;transform:scale(1)}}

.info-btn{position:absolute;bottom:40px;right:40px;width:56px;height:56px;background:rgba(255,255,255,.4);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.6);border-radius:50%;color:#fff;font-size:20px;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;z-index:10}
.info-btn:hover{background:rgba(255,255,255,.6);transform:scale(1.1)}

.customization-section{display:flex;flex-direction:column;background:#fff;position:relative;height:100vh;overflow-y:auto;overflow-x:hidden}
.customization-section::-webkit-scrollbar{width:8px}
.customization-section::-webkit-scrollbar-track{background:var(--light)}
.customization-section::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}
.customization-section::-webkit-scrollbar-thumb:hover{background:var(--gray)}

.scroll-content{min-height:100vh;display:flex;flex-direction:column;justify-content:center;padding:60px 40px}

.timeline-dots{display:flex;justify-content:center;gap:16px;margin-bottom:60px}
.timeline-dot{width:12px;height:12px;background:var(--border);border-radius:50%;transition:all .3s;cursor:pointer}
.timeline-dot.completed{background:#10b981}
.timeline-dot.active{background:var(--primary);transform:scale(1.5);box-shadow:0 0 0 4px rgba(201,20,20,.2)}

.step-content{width:100%;max-width:600px;margin:0 auto;text-align:center;animation:slideIn .6s}
@keyframes slideIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

.step-header{margin-bottom:40px}
.step-number{display:inline-block;width:48px;height:48px;background:var(--primary);color:#fff;border-radius:50%;font-size:20px;font-weight:900;display:flex;align-items:center;justify-content:center;margin:0 auto 16px}
.step-title{font-size:32px;font-weight:900;letter-spacing:-1px;margin-bottom:12px}
.step-desc{font-size:15px;color:var(--gray);line-height:1.6}

.options-grid{display:grid;grid-template-columns:1fr;gap:24px;margin-bottom:40px}
.option-card{position:relative;border:3px solid var(--border);border-radius:16px;overflow:hidden;cursor:pointer;transition:all .3s;background:#fff}
.option-card:hover{border-color:var(--text);transform:translateY(-4px);box-shadow:0 12px 32px rgba(0,0,0,.1)}
.option-card.selected{border-color:var(--primary);box-shadow:0 12px 32px rgba(201,20,20,.2)}
.option-card.selected::after{content:'✓';position:absolute;top:16px;right:16px;width:36px;height:36px;background:var(--primary);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;box-shadow:0 4px 12px rgba(201,20,20,.4)}

.option-image{width:100%;aspect-ratio:3/4;object-fit:cover;background:var(--light)}
.option-name{padding:20px;text-align:center;font-weight:700;font-size:16px;letter-spacing:-.3px}

.size-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:40px}
.size-btn{padding:24px;border:3px solid var(--border);border-radius:16px;background:#fff;font-weight:900;font-size:18px;cursor:pointer;transition:all .3s;text-align:center;font-family:inherit}
.size-btn:hover{border-color:var(--text);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.1)}
.size-btn.selected{border-color:var(--primary);background:rgba(201,20,20,.05);color:var(--primary);box-shadow:0 8px 24px rgba(201,20,20,.2)}

.textarea{width:100%;min-height:150px;padding:20px;border:3px solid var(--border);border-radius:16px;font-family:inherit;font-size:15px;resize:vertical;background:#fff;transition:all .3s;margin-bottom:40px}
.textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 4px rgba(201,20,20,.1)}

.step-actions{display:flex;gap:16px;justify-content:center;width:100%}
.btn{padding:16px 40px;border:none;border-radius:50px;font-size:14px;font-weight:700;cursor:pointer;transition:all .3s;font-family:inherit;text-transform:uppercase;letter-spacing:.8px;display:inline-flex;align-items:center;gap:12px;justify-content:center}
.btn-back{background:var(--light);color:var(--text);border:3px solid var(--border)}
.btn-back:hover{background:var(--text);color:#fff;transform:translateY(-2px)}
.btn-next{background:var(--primary);color:#fff}
.btn-next:hover{transform:translateY(-3px);box-shadow:0 12px 32px rgba(201,20,20,.4)}
.btn-next:disabled{opacity:.5;cursor:not-allowed;transform:none}

.admin-panel{background:var(--light);border:2px solid var(--primary);border-radius:16px;padding:30px;margin-top:40px;text-align:left}
.admin-title{font-size:20px;font-weight:900;color:var(--primary);margin-bottom:24px;display:flex;align-items:center;gap:8px}
.input-group{margin-bottom:20px}
.label{display:block;font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px;color:var(--gray)}
.input{width:100%;padding:14px 16px;border:2px solid var(--border);border-radius:12px;font-family:inherit;font-size:14px;background:#fff;transition:all .3s}
.input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(201,20,20,.1)}

.items-list{margin-top:20px;display:grid;gap:16px}
.item-card{background:#fff;border:2px solid var(--border);border-radius:12px;padding:20px;display:flex;gap:16px;align-items:center}
.item-image{width:80px;height:80px;object-fit:cover;border-radius:8px;background:var(--light)}
.item-info{flex:1}
.item-name{font-weight:700;font-size:15px;margin-bottom:4px}
.item-desc{font-size:13px;color:var(--gray)}
.item-actions{display:flex;gap:8px}
.btn-small{padding:8px 16px;font-size:11px;border-radius:20px}
.btn-delete{background:#ef4444;color:#fff}
.btn-delete:hover{background:#dc2626}

.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:10000;align-items:center;justify-content:center;padding:40px;backdrop-filter:blur(10px)}
.modal.active{display:flex;animation:fadeIn .3s}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.modal-box{background:#fff;border-radius:20px;padding:50px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;animation:modalUp .4s;position:relative}
@keyframes modalUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.modal-close{position:absolute;top:20px;right:20px;background:none;border:none;font-size:28px;cursor:pointer;color:var(--gray);width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s}
.modal-close:hover{background:var(--light);color:var(--text);transform:rotate(90deg)}
.modal-content{text-align:center}
.modal-image{width:100%;max-width:400px;height:400px;object-fit:cover;border-radius:16px;margin-bottom:24px}
.modal-title{font-size:28px;font-weight:900;letter-spacing:-1px;margin-bottom:16px}
.modal-desc{font-size:15px;color:var(--gray);line-height:1.8;margin-bottom:24px}
.modal-specs{text-align:left;background:var(--light);border-radius:12px;padding:20px;margin-bottom:24px}
.modal-spec{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--border);font-size:14px}
.modal-spec:last-child{border:none}
.modal-spec-label{color:var(--gray);font-weight:600}
.modal-spec-value{font-weight:700}

.success-icon{width:100px;height:100px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;display:flex;align-items:center;justify-content:center;font-size:48px;margin:0 auto 32px;border-radius:50%;animation:scaleIn .5s}
@keyframes scaleIn{from{transform:scale(0)}to{transform:scale(1)}}

.admin-badge{position:fixed;top:20px;right:20px;background:var(--primary);color:#fff;padding:8px 16px;border-radius:50px;font-size:11px;font-weight:700;z-index:1000;text-transform:uppercase;letter-spacing:.5px}

@media(max-width:1024px){
.container{grid-template-columns:1fr}
.preview-section{height:50vh}
.preview-image{max-height:50vh}
.customization-section{height:auto;min-height:50vh}
.scroll-content{min-height:auto}
.size-grid{grid-template-columns:repeat(3,1fr)}
}
</style>
</head>
<body>

<div class="admin-badge" id="adminBadge" style="display:none">ADMIN</div>

<div class="container">
<div class="preview-section">
<img src="https://images.unsplash.com/photo-1594633313593-bab3825d0caf?w=1200&h=1600&fit=crop" 
     alt="Peça Personalizada" 
     id="previewImage" 
     class="preview-image">
<button class="info-btn" id="infoBtn" onclick="openInfoModal()">
<i class="fas fa-search"></i>
</button>
</div>

<div class="customization-section">
<div class="scroll-content">
<div class="timeline-dots" id="timelineDots"></div>
<div class="step-content" id="stepContent"></div>
</div>
</div>
</div>

<!-- Info Modal -->
<div class="modal" id="infoModal">
<div class="modal-box">
<button class="modal-close" onclick="closeInfoModal()"><i class="fas fa-times"></i></button>
<div class="modal-content">
<img src="" alt="" id="modalImage" class="modal-image">
<h2 class="modal-title" id="modalTitle"></h2>
<p class="modal-desc" id="modalDesc"></p>
<div class="modal-specs" id="modalSpecs"></div>
</div>
</div>
</div>

<!-- Success Modal -->
<div class="modal" id="successModal">
<div class="modal-box">
<div class="modal-content">
<div class="success-icon"><i class="fas fa-check"></i></div>
<h2 class="modal-title">Pedido Enviado!</h2>
<p class="modal-desc">Seu pedido personalizado foi enviado com sucesso. Nossa equipe irá analisar e enviar o orçamento em breve. Você será notificado por email.</p>
<button class="btn btn-next" onclick="window.location.href='profile.html'" style="width:100%;margin-top:16px">
<i class="fas fa-user"></i> Ver Meus Pedidos
</button>
</div>
</div>
</div>

<!-- Admin Modal - Add Model -->
<div class="modal" id="addModelModal">
<div class="modal-box">
<button class="modal-close" onclick="closeAddModelModal()"><i class="fas fa-times"></i></button>
<div class="modal-content">
<h2 class="modal-title">Adicionar Modelo</h2>
<div style="text-align:left;margin-top:24px">
<div class="input-group">
<label class="label">Nome do Modelo</label>
<input type="text" class="input" id="modelName" placeholder="Ex: Calça Wide Leg">
</div>
<div class="input-group">
<label class="label">URL da Imagem</label>
<input type="url" class="input" id="modelImage" placeholder="https://...">
</div>
<div class="input-group">
<label class="label">Descrição</label>
<textarea class="textarea" id="modelDesc" placeholder="Descreva o modelo..." style="min-height:100px"></textarea>
</div>
<button class="btn btn-next" onclick="saveModel()" style="width:100%">
<i class="fas fa-save"></i> Salvar Modelo
</button>
</div>
</div>
</div>
</div>

<!-- Admin Modal - Add Fabric -->
<div class="modal" id="addFabricModal">
<div class="modal-box">
<button class="modal-close" onclick="closeAddFabricModal()"><i class="fas fa-times"></i></button>
<div class="modal-content">
<h2 class="modal-title">Adicionar Tecido</h2>
<div style="text-align:left;margin-top:24px">
<div class="input-group">
<label class="label">Nome do Tecido</label>
<input type="text" class="input" id="fabricName" placeholder="Ex: Linho">
</div>
<div class="input-group">
<label class="label">URL da Imagem</label>
<input type="url" class="input" id="fabricImage" placeholder="https://...">
</div>
<div class="input-group">
<label class="label">Descrição</label>
<textarea class="textarea" id="fabricDesc" placeholder="Descreva o tecido..." style="min-height:100px"></textarea>
</div>
<button class="btn btn-next" onclick="saveFabric()" style="width:100%">
<i class="fas fa-save"></i> Salvar Tecido
</button>
</div>
</div>
</div>
</div>

